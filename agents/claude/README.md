# Claude Code - Context Engineering Guide üéØ

> Guide complet pour ma√Ætriser le Context Engineering avec Claude Code CLI et extension VS Code

Claude Code d'Anthropic est un agent de d√©veloppement disponible en CLI et extension VS Code. Il se distingue par ses capacit√©s de raisonnement avanc√©, sa fen√™tre de contexte massive, et ses outils de Context Engineering sophistiqu√©s.

## üöÄ D√©marrage rapide

**Installation et premier usage :**
```bash
# Installation CLI
npm install -g @anthropic-ai/claude-code

# Initialisation projet (g√©n√®re CLAUDE.md automatiquement)
claude /init

# D√©marrage session interactive
claude
```

**Documentation officielle** ‚Üí [docs.anthropic.com/claude-code](https://docs.anthropic.com/en/docs/claude-code)

---

## üõ†Ô∏è Outils officiels de Context Engineering

### 1. Syst√®me CLAUDE.md hi√©rarchique ‚≠ê

Claude Code utilise des fichiers `CLAUDE.md` comme m√©moire persistante, charg√©s automatiquement selon une hi√©rarchie intelligente :

```
~/.claude/CLAUDE.md              # R√®gles utilisateur globales
/projet/CLAUDE.md                # R√®gles sp√©cifiques au projet  
/projet/src/CLAUDE.md            # R√®gles sp√©cifiques au module
```

**Fonctionnalit√©s cl√©s :**
- **Hi√©rarchie intelligente** : Global ‚Üí Projet ‚Üí Sous-dossier
- **Auto-g√©n√©ration** : `/init` d√©tecte et reprend les r√®gles existantes d'autres agents
- **Import dynamique** : Syntaxe `@chemin/fichier` pour inclure du contenu
- **√âdition en session** : Commande `/memory` pour modifier √† la vol√©e

### 2. Outils int√©gr√©s massifs üîß

Claude Code embarque 20+ outils natifs pour l'interaction avec le syst√®me :

**Manipulation de fichiers :**
- `Read`, `Write`, `Edit`, `MultiEdit` - Lecture/√©criture avanc√©e
- `Glob`, `Grep` - Recherche intelligente dans le codebase
- `LS` - Navigation projet

**Ex√©cution et int√©gration :**
- `Bash` - Ex√©cution commandes syst√®me  
- `WebFetch` - R√©cup√©ration contenu web
- `Task` - D√©l√©gation √† des sous-agents sp√©cialis√©s

**Organisation et m√©moire :**
- `TodoWrite` - Gestion de t√¢ches persistante
- `NotebookEdit` - √âdition Jupyter notebooks

### 3. Contexte automatique intelligent üß†

**Indexation projet :** Claude maintient une carte mentale compl√®te du codebase
- D√©tection automatique de la structure projet
- Recherche contextuelle via `ripgrep` et patterns `glob`
- Inclusion conditionnelle par r√©pertoire

**Recherche adaptative :** L'IA effectue des recherches cibl√©es selon le contexte
```
Utilisateur: "Quelle fonction impl√©mente l'authentification ?"
Claude: [Recherche automatique] ‚Üí Lit auth.js ‚Üí Analyse la fonction login()
```

### 4. Mode Planning et TodoList üìã

**Architecture de planification :**
- **Sous-agent Architect** : √âlabore des plans de t√¢ches structur√©s
- **TodoWrite/Task** : Suivi d'ex√©cution avec statuts (pending, in_progress, completed)
- **Validation √©tapes** : Confirmation avant actions sensibles

**Exemple de workflow :**
```
Utilisateur: "Ajoute une API de gestion utilisateur"
Claude: [Cr√©e TodoList] ‚Üí Planifie ‚Üí Ex√©cute √©tape par √©tape ‚Üí Valide
```

### 5. Hooks et personnalisation avanc√©e ‚öôÔ∏è

**Syst√®me de hooks personnalisables :**
- D√©clencheurs sur √©v√©nements (sauvegarde, erreur, etc.)
- Configuration via fichiers de settings
- Int√©gration avec workflows externes

**MCP (Model Context Protocol) :** Support natif pour extensions externes
- Serveurs de documentation (Notion, Confluence)
- Int√©grations outils (Jira, GitHub)
- APIs et bases de donn√©es

### 6. Int√©gration avec frameworks externes üîó

**Frameworks compatibles Claude Code :**
- **[CCPM](../../frameworks/ccpm/)** - Gestion de projet spec-driven avec GitHub Issues et git worktrees
- **[SuperClaude](../../frameworks/superclaude/)** - Framework avanc√© pour Claude Code
- **Support MCP natif** - Extensions via Model Context Protocol

---

## üîç D√©couvertes de la communaut√©

### 1. Phrases d√©clencheurs de r√©flexion approfondie ‚ö°

**Astuce d√©couverte :** Claude Code r√©agit √† certains mots-cl√©s pour ajuster sa profondeur d'analyse :

```markdown
# D√©clencheurs confirm√©s par la communaut√©
"think harder"           ‚Üí Mode raisonnement approfondi
"think intensely"        ‚Üí Analyse plus d√©taill√©e  
"think very hard"        ‚Üí Consommation tokens √©lev√©e, qualit√© maximale
```

**Usage pratique :**
```
‚ùå "Debug ce probl√®me"
‚úÖ "Think harder about this debugging problem" ‚Üí Analyse plus syst√©matique
```

### 2. Injection de contexte local avanc√©e üìÅ

**Techniques communautaires pour forcer le contexte :**

**M√©thode 1 - Import CLAUDE.md dynamique :**
```markdown
# Dans CLAUDE.md
@docs/architecture.md
@config/eslint.config.js
@tests/utils.test.js

Tu dois toujours respecter ces conventions...
```

**M√©thode 2 - Prompts de d√©marrage contextuels :**
```markdown
# Contexte : Projet React TypeScript
# Stack : Vite, TailwindCSS, React Query  
# Convention : Functional components + hooks
# Tests : Jest + React Testing Library

Maintenant aide-moi avec...
```

**M√©thode 3 - Session pr√©paratoire :**
```
> Ouvre et parcours ces fichiers cl√©s : package.json, src/App.tsx, README.md
> [Claude lit et indexe automatiquement]
> Parfait, maintenant on peut commencer
```

### 3. Gestion des garde-fous de s√©curit√© üõ°Ô∏è

**Probl√®me d√©couvert :** Claude refuse parfois des demandes l√©gitimes (faux positifs)

**Solutions communautaires :**
```markdown
‚ùå "G√©n√®re un script pour tester les vuln√©rabilit√©s"
‚úÖ "Aide-moi √† cr√©er un script de test de s√©curit√© d√©fensif pour identifier les vuln√©rabilit√©s potentielles"

‚ùå "Code pour bypasser l'authentification"  
‚úÖ "Analyse ce code d'authentification pour identifier les failles de s√©curit√© potentielles"
```

**Approche recommand√©e :** Accentuer l'aspect d√©fensif, √©ducatif, ou d'audit.

### 4. Optimisation contexte et performance üöÄ

**Probl√®me :** Fen√™tre de contexte massive mais performance variable

**Astuces communautaires :**

**Contextualisation cibl√©e :**
```markdown
# Dans CLAUDE.md - Version optimis√©e
## R√®gles essentielles (toujours pr√©sentes)
- Convention nommage : camelCase
- Framework : React 18 + TypeScript
- Tests obligatoires

## R√®gles d√©taill√©es (import conditionnel)
@docs/detailed-patterns.md  # Seulement si n√©cessaire
```

**Segmentation des sessions :**
```
# Session longue ‚Üí Risque de "donut effect" (oubli du milieu)
> /memory refresh  # Recharge le contexte
> [Nouvelle session si n√©cessaire]
```

### 5. Balises de contexte et validation üè∑Ô∏è

**Astuce communautaire :** Utiliser des balises uniques pour d√©tecter la perte de contexte

```markdown
# Dans CLAUDE.md
üéØ TOUJOURS commencer tes r√©ponses par l'emoji üéØ

# Usage
Si Claude oublie l'emoji ‚Üí Contexte perdu ‚Üí `/memory refresh`
```

### 6. Migration et synchronisation cross-agent üîÑ

**Outils communautaires d√©couverts :**

**RuleSync :** Convertisseur de r√®gles entre agents
```bash
# Convertit CLAUDE.md vers d'autres formats
rulesync --from claude --to cursor --input CLAUDE.md
```

**Templates de migration :**
```markdown
# R√®gles universelles (compatibles tous agents)
- Utilise TypeScript strict
- Tests unitaires obligatoires  
- Code document√© avec JSDoc

# R√®gles sp√©cifiques Claude Code
@project/technical-context.md  # Import dynamique
Think harder when debugging complex issues  # Phrase d√©clencheur
```

---

## üìÅ Templates battle-tested

### Template CLAUDE.md projet

```markdown
# Context Engineering - [NOM_PROJET]

## üéØ R√®gles essentielles
- **Stack :** React 18 + TypeScript + Vite
- **Style :** TailwindCSS + Functional Components
- **Tests :** Jest + React Testing Library (obligatoire)
- **Conventions :** camelCase, ESLint Airbnb, Prettier

## üìÅ Structure projet
@package.json                    # Dependencies et scripts
@src/types/index.ts             # Types globaux
@docs/architecture.md           # Architecture d√©taill√©e

## üîç Contexte m√©tier
[D√©crire bri√®vement le domaine et les objectifs]

## ‚ö° Instructions sp√©ciales
- Think harder pour les probl√®mes complexes
- Toujours valider avec tests avant commit
- Commencer les r√©ponses par üéØ [validation contexte]

## üö® Restrictions  
- Ne jamais ignorer les tests
- Respecter l'architecture existante
- Demander confirmation pour changes structurels
```

### Template hooks avanc√©s üöß *TODO*

[Templates d'exemples de hooks pour automatisation]

### Template MCP configuration üöß *TODO*  

[Configuration serveurs MCP courants]

---

## üí° Cas d'usage avanc√©s

### D√©veloppement complexe avec sous-agents

```markdown
# D√©l√©gation intelligente via Task tool
> Analyse ce syst√®me de 50+ fichiers avec focus s√©curit√©
Claude: [D√©l√®gue √† sub-agent security] ‚Üí Rapport consolid√©
```

### Debug systematique multi-√©tapes

```markdown
> Think very hard about this performance issue
Claude: [Mode approfondi] ‚Üí Profiling ‚Üí Analyse ‚Üí Recommandations
```

### Context Engineering dynamique

```markdown
# CLAUDE.md √©volutif selon phase projet
/scripts/
  setup-context-dev.md      # Phase d√©veloppement
  setup-context-deploy.md   # Phase d√©ploiement  
  setup-context-debug.md    # Phase debug

# Import conditionnel selon besoin
@scripts/setup-context-debug.md
```

---

## ‚ö†Ô∏è Limitations et contournements

| **Limitation** | **Impact** | **Contournement** |
|----------------|------------|------------------|
| Pas de r√®gles globales simples | Configuration r√©p√©t√©e | `~/.claude/CLAUDE.md` + templates |
| Performance variable gros contextes | Lenteur r√©ponses | Segmentation sessions + contexte cibl√© |
| Garde-fous parfois trop stricts | Faux positifs s√©curit√© | Reformulation d√©fensive |
| D√©pendance r√©seau pour MCP | Hors-ligne limit√© | Cache local + fallback |

---

## üîó Ressources et communaut√©

### Documentation officielle
- **[Claude Code Docs](https://docs.anthropic.com/en/docs/claude-code)** - Documentation compl√®te
- **[Anthropic Research](https://www.anthropic.com/research)** - Recherches sur les LLMs

### Outils communautaires  
- **[ClaudeLog.com](https://claudelog.com/)** ‚≠ê - Documentation communautaire et insights pratiques bas√©s sur l'exp√©rience terrain
- **[RuleSync](https://github.com/rulesync)** - Migration r√®gles entre agents
- **[Claude Code Examples](https://github.com/anthropic/claude-code-examples)** üöß *TODO* - Exemples officiels
- **[Community Templates](templates/)** üöß *TODO* - Templates partag√©s

### Int√©grations
- **[SuperClaude Framework](../../frameworks/superclaude/)** üöß *TODO* - Framework avanc√© pour Claude
- **[VS Code Extension](https://marketplace.visualstudio.com/items?itemName=Anthropic.claude)** - Extension officielle
- **[CCPM Framework](../../frameworks/ccpm/)** ‚≠ê - Gestion de projet spec-driven avec GitHub Issues

---

## üéØ Prochaines √©tapes

1. **[Installer et configurer](setup-guide.md)** üöß *TODO* - Guide d'installation d√©taill√©
2. **[Templates avanc√©s](templates/)** üöß *TODO* - Collection de templates pr√™ts √† l'emploi  
3. **[Exemples concrets](examples/)** üöß *TODO* - Cas d'usage r√©els d√©taill√©s
4. **[Int√©gration CI/CD](cicd-integration.md)** üöß *TODO* - Automatisation avec Claude Code

> üí° **Astuce finale :** Claude Code excelle dans les contextes complexes. N'h√©sitez pas √† lui fournir beaucoup de contexte structur√© - sa large fen√™tre contextuelle en fait un atout majeur.